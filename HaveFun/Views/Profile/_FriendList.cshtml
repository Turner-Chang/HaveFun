    <div class="tab-pane fade" id="gt4" role="tabpanel" aria-labelledby="gt4-tab">
        <div class="active-member bg-white mb-4">
            <div id="app">
                <div class="modal-header">
                    <h6>好友列表</h6> 
                    <ul class="nav nav-tabs" id="myTab4" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" :class="{ active: activeTab === 'Newest' }" @@click="switchTab('Newest')" id="Newest-tab" type="button" role="tab" aria-controls="Newest" aria-selected="true">好友</button> <!-- 好友 -->
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" :class="{ active: activeTab === 'BlackList' }" @@click="switchTab('BlackList')" id="BlackList-tab" type="button" role="tab" aria-controls="BlackList" aria-selected="false">黑名單</button> <!-- 黑名單 -->
                        </li>
                    </ul>
                </div>
                <div class="modal-body group__bottom--body">
                    <div class="tab-content" id="myTabContent4">
                        <div v-if="activeTab === 'Newest'" class="tab-pane fade show active" id="Newest" role="tabpanel" aria-labelledby="Newest-tab">
                            <ul>
                                <li v-for="friend in friends" :key="friend.id">
                                    <div class="top">
                                        <div class="left member--style2">
                                            <div class="member__thumb">
                                                <img :src="friend.profilePicture" alt="member-img">
                                            </div>
                                        </div>
                                        <div class="right">
                                            <a href="member-single.html"><h6>{{ friend.name }}</h6></a>
                                            <button class="btn btn-danger" @@click="blockUser(friend.id)" v-if="friend.state !== 2">封鎖</button> <!-- 封鎖 -->
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <div v-if="activeTab === 'BlackList'" class="tab-pane fade show active" id="BlackList" role="tabpanel" aria-labelledby="BlackList-tab">
                            <ul>
                                <li v-for="friend in blacklistedFriends" :key="friend.id">
                                    <div class="top">
                                        <div class="left member--style2">
                                            <div class="member__thumb">
                                                <img :src="friend.profilePicture" alt="member-img">
                                            </div>
                                        </div>
                                        <div class="right">
                                            <a href="member-single.html"><h6>{{ friend.name }}</h6></a>
                                            <button class="btn btn-success" @@click="unblockUser(friend.id)">解鎖</button> <!-- 解鎖 -->
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <style>
        .right {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .member__activity {
            display: none;
        }
    </style>

    <script>
        new Vue({
            el: '#app',
            data: {
                activeTab: 'Newest',
                userId: "", // 實際用戶ID
                friends: [],
                blacklistedFriends: []
            },
            mounted() {
                this.fetchFriends();
            },
            methods: {
                // 切換標籤頁
                switchTab(tab) {
                    this.activeTab = tab;
                    if (tab === 'BlackList') {
                        this.fetchBlacklist(); // 切換到黑名單時重新加載黑名單數據
                    }
                },
                // 獲取好友列表
                fetchFriends() {
                    axios.get(`/api/FriendApi/GetFriend/${@ViewBag.UserId}`)
                        .then(response => {
                            this.friends = response.data;
                        })
                        .catch(error => {
                            console.error('Error:', error);
                        });
                },
                // 獲取黑名單列表
                fetchBlacklist() {
                axios.get(`/api/FriendApi/GetBlacklist/${@ViewBag.UserId}`)
                        .then(response => {
                            this.blacklistedFriends = response.data;
                        })
                        .catch(error => {
                            console.error('Error:', error);
                        });
                },
                // 封鎖用戶
                blockUser(friendId) {
                    axios.post(`/api/FriendApi/BlockUser`, { userId: @ViewBag.UserId, friendId: friendId })
                        .then(() => {
                            this.fetchFriends(); // 重新加載好友列表
                            this.fetchBlacklist(); // 重新加載黑名單列表
                        })
                        .catch(error => {
                            console.error('Error:', error);
                        });
                },
                // 解鎖用戶
                unblockUser(friendId) {
                    axios.post(`/api/FriendApi/UnblockUser`, { userId: @ViewBag.UserId, friendId: friendId })
                        .then(() => {
                            this.fetchFriends(); // 重新加載好友列表
                            this.fetchBlacklist(); // 重新加載黑名單列表
                        })
                        .catch(error => {
                            console.error('Error:', error);
                        });
                },
            }
        });
    </script>